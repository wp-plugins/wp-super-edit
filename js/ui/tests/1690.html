<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>#1690 - Position bug of Selectables</title>
		<script type="text/javascript" src="../../jquery/src/core.js"></script>
		<script type="text/javascript" src="../../jquery/src/selector.js"></script>
		<script type="text/javascript" src="../../jquery/src/event.js"></script>
		<script type="text/javascript" src="../../jquery/src/ajax.js"></script>
		<script type="text/javascript" src="../../jquery/src/fx.js"></script>
		<script type="text/javascript" src="../../jquery/src/offset.js"></script>
		<script type="text/javascript" src="../../plugins/dimensions/jquery.dimensions.js"></script>
		<script type="text/javascript" src="../ui.mouse.js"></script>
		<script type="text/javascript" src="../ui.selectable.js"></script>
		<script type="text/javascript" src="../ui.draggable.js"></script>
		<script type="text/javascript" src="../ui.draggable.ext.js"></script>
		<style type="text/css">
			div.ticket {
				margin: 0 100px;
			}
		</style>
<style>
#box {
  background: #eee;
  border: 1px dotted #aaa;
  position: absolute;
  top: 300px;
  left: 10px;
  right: 10px;
  bottom: 10px;
}

#box p {
  float: left;
  border: 1px solid #ddd;
  margin: 10px;
  padding: 10px 0 10px 0;
  text-align: center;
  width: 60px;
}
</style>

	</head>
<body>

<div class="ticket">
	<hr/>
	<h1>Ticket #<a href="http://dev.jquery.com/ticket/1690">1690</a></h1>
	<h2>Position bug of Selectables</h2>
	<hr/>
	<dl>
		<dt>Description</dt>
			<dd class="description">
				triekki:
				<blockquote cite="http://dev.jquery.com/ticket/1690#comment:description">
					<p>
						When grandparent of selectable items has css-value "position: absolute" the selecting helper doesn't position properly.
					</p>
					<p>
						Example situation <a href="http://triekki.hihhuli.net/jquery/selectables-bug/">http://triekki.hihhuli.net/jquery/selectables-bug/</a> (Try to select numbers)
					</p>
				</blockquote>
			</dd>
	</dl>
</div>

<div id="box">
  <div id="items">
	<div id="dragme">Drag Me</div>
    <p>1</p>
    <p>2</p>
    <p>3</p>
    <p>4</p>
  </div>
</div>

<script>
$(document).ready(function() {

  $('#items').selectable({
    filter: 'p',
    selected: function(e, ui) {
      $(ui.selected).css({
        backgroundColor: '#0077ff',
        color: '#fff'
      });
    }
  });

  $('#dragme').draggable({
	helper: function() {
		return $(document.createElement('div')).css({border:'1px dotted black'});
	},
	appendTo: 'body'
  });
  
});
</script>

</body>
</html>
